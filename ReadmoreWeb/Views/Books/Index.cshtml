@model IEnumerable<ReadmoreWeb.Data.Models.Book>

<h2>Boeken</h2>

<input type="text" id="searchInput" class="form-control mb-3" placeholder="Zoek op titel of auteur..." />

<div id="booksContainer">
    @await Html.PartialAsync("_BooksTable", Model)
</div>

@section Scripts {
    <script>
        const input = document.getElementById("searchInput");
        const container = document.getElementById("booksContainer");

        async function loadBooks() {
            const query = input.value || "";
            const response = await fetch(`/Books/Search?query=${encodeURIComponent(query)}`, {
                headers: { "X-Requested-With": "XMLHttpRequest" }
            });
            const html = await response.text();
            container.innerHTML = html;
        }

        input.addEventListener("keyup", loadBooks);
    </script>
}
